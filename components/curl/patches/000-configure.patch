--- configure	2010-10-01 13:49:17.000000000 -0700
+++ configure	2010-10-18 08:18:56.838791104 -0700
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /bin/ksh93
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.67 for curl -.
 #
@@ -274,7 +274,7 @@
 fi
 fi
 fi
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/bin/ksh93}
 export SHELL
 # Unset more variables known to interfere with behavior of common tools.
 CLICOLOR_FORCE= GREP_OPTIONS=
@@ -565,7 +565,7 @@
 
 
 # Check that we are running under the correct shell.
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/bin/ksh93}
 
 case X$lt_ECHO in
 X*--fallback-echo)
@@ -649,7 +649,7 @@
       elif { test -f /bin/ksh || test -f /bin/ksh$ac_exeext; } &&
 	   test "X$CONFIG_SHELL" != X/bin/ksh; then
         # If we have ksh, try running configure again with it.
-        ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+        ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/ksh93}
         export ORIGINAL_CONFIG_SHELL
         CONFIG_SHELL=/bin/ksh
         export CONFIG_SHELL
@@ -691,7 +691,7 @@
 	  if test "$prev" != 'sed 50q "$0"'; then
 	    echo_test_string=`eval $prev`
 	    export echo_test_string
-	    exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} "$0" ${1+"$@"}
+	    exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/ksh93}} "$0" ${1+"$@"}
 	  else
 	    # Oops.  We lost completely, so just stick with echo.
 	    ECHO=echo
@@ -2001,6 +2001,13 @@
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
+#include <stdio.h>
+#include <stdlib.h>
+#include <limits.h>
+#include <sys/types.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <sys/socket.h>
 int main (void)
 {
 static int test_array [1 - 2 * !(($2) >= 0)];
@@ -2041,6 +2048,13 @@
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
+#include <stdio.h>
+#include <stdlib.h>
+#include <limits.h>
+#include <sys/types.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <sys/socket.h>
 int main (void)
 {
 static int test_array [1 - 2 * !(($2) < 0)];
@@ -2056,6 +2070,13 @@
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
+#include <stdio.h>
+#include <stdlib.h>
+#include <limits.h>
+#include <sys/types.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <sys/socket.h>
 int main (void)
 {
 static int test_array [1 - 2 * !(($2) >= $ac_mid)];
@@ -2089,6 +2110,13 @@
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
+#include <stdio.h>
+#include <stdlib.h>
+#include <limits.h>
+#include <sys/types.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <sys/socket.h>
 int main (void)
 {
 static int test_array [1 - 2 * !(($2) <= $ac_mid)];
@@ -2113,10 +2141,15 @@
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
-static long int longval () { return $2; }
-static unsigned long int ulongval () { return $2; }
 #include <stdio.h>
 #include <stdlib.h>
+#include <limits.h>
+#include <sys/types.h>
+#include <stdint.h>
+#include <inttypes.h>
+#include <sys/socket.h>
+static long int longval () { return $2; }
+static unsigned long int ulongval () { return $2; }
 int main (void)
 {
 
@@ -2797,7 +2830,7 @@
 
 
 
-ac_config_headers="$ac_config_headers lib/curl_config.h src/curl_config.h include/curl/curlbuild.h"
+ac_config_headers="$ac_config_headers lib/curl_config.h src/curl_config.h"
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles" >&5
 $as_echo_n "checking whether to enable maintainer-specific portions of Makefiles... " >&6; }
@@ -3263,12 +3296,6 @@
 fi
 
 
-
-
-if test -f ${srcdir}/include/curl/curlbuild.h; then
-  rm -f ${srcdir}/include/curl/curlbuild.h
-fi
-
 VERSION=`$SED -ne 's/^#define LIBCURL_VERSION "\(.*\)"/\1/p' ${srcdir}/include/curl/curlver.h`
 am__api_version="1.9"
 ac_aux_dir=
@@ -3538,7 +3565,7 @@
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
-SHELL = /bin/sh
+SHELL = /bin/ksh93
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
@@ -4734,7 +4761,7 @@
     for i in 1 2 3 4 5 6; do
       echo '#include "conftst'$i'.h"' >> sub/conftest.c
       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
-      # Solaris 8's {/usr,}/bin/sh.
+      # Solaris 8's {/usr,}/bin/ksh93.
       touch sub/conftst$i.h
     done
     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
@@ -8029,7 +8056,7 @@
       for i in 1 2 3 4 5 6 7 8 ; do
         teststring=$teststring$teststring
       done
-      SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}
+      SHELL=${SHELL-${CONFIG_SHELL-/bin/ksh93}}
       # If test is not a shell built-in, we'll probably end up computing a
       # maximum length that is only half of the actual maximum length, but
       # we can't tell.
@@ -9261,8 +9288,8 @@
       case $lt_cv_prog_gnu_ld in
       yes*) LD="${LD-ld} -m elf64_sparc" ;;
       *)
-	if ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then
-	  LD="${LD-ld} -64"
+	if ${LD-ld} -r -o conftest2.o conftest.o >/dev/null 2>&1; then
+	  LD="${LD-ld}"
 	fi
 	;;
       esac
@@ -13653,7 +13680,7 @@
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
-SHELL = /bin/sh
+SHELL = /bin/ksh93
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
@@ -19176,15 +19203,15 @@
            LIBS="$LIBS $gss_libs"
         elif test "$GSSAPI_ROOT" != "yes"; then
            LDFLAGS="$LDFLAGS -L$GSSAPI_ROOT/lib$libsuff"
-           LIBS="$LIBS -lgssapi"
+           LIBS="$LIBS -lgss"
         else
-           LIBS="$LIBS -lgssapi"
+           LIBS="$LIBS -lgss"
         fi
         ;;
      esac
   else
      LDFLAGS="$LDFLAGS $GSSAPI_LIB_DIR"
-     LIBS="$LIBS -lgssapi"
+     LIBS="$LIBS -lgss"
   fi
 else
   CPPFLAGS="$save_CPPFLAGS"
@@ -19210,7 +19237,7 @@
         if test x$cross_compiling != xyes; then
             PKGTEST="yes"
     fi
-    PREFIX_OPENSSL=/usr/local/ssl
+    PREFIX_OPENSSL="/usr"
     LIB_OPENSSL="$PREFIX_OPENSSL/lib$libsuff"
     ;;
   off)
@@ -22731,20 +22758,13 @@
 
 
 
-curl_preprocess_callconv="\
-/* preprocess start */
-#ifdef HAVE_WINDOWS_H
-#  define FUNCALLCONV __stdcall
-#else
-#  define FUNCALLCONV
-#endif
-/* preprocess end */"
+curl_preprocess_callconv=""
 
 
         #
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for curl_socklen_t data type" >&5
 $as_echo_n "checking for curl_socklen_t data type... " >&6; }
-  curl_typeof_curl_socklen_t="unknown"
+  curl_typeof_curl_socklen_t="socklen_t"
   for arg1 in int SOCKET; do
     for arg2 in 'struct sockaddr' void; do
       for t in socklen_t int size_t 'unsigned int' long 'unsigned long' void; do
@@ -35751,7 +35771,6 @@
   case $ac_config_target in
     "lib/curl_config.h") CONFIG_HEADERS="$CONFIG_HEADERS lib/curl_config.h" ;;
     "src/curl_config.h") CONFIG_HEADERS="$CONFIG_HEADERS src/curl_config.h" ;;
-    "include/curl/curlbuild.h") CONFIG_HEADERS="$CONFIG_HEADERS include/curl/curlbuild.h" ;;
     "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
     "libtool") CONFIG_COMMANDS="$CONFIG_COMMANDS libtool" ;;
     "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
